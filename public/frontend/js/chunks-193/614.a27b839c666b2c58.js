"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[614],{2614:(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});var r=s(8680),a=s(5662),o=s(5593);const n={name:"addresses",components:{user_sidebar:r.Z,shimmer:a.Z,addressForm:o.Z},data:function(){return{current:"addresses",default_shipping:this.$store.getters.getUser.billing_address,default_billing:this.$store.getters.getUser.shipping_address,is_edit:!1}},mounted:function(){0==this.lengthCounter(this.addresses)&&this.getAddress()},computed:{addresses:function(){return this.$store.getters.getUserAddresses},shimmer:function(){return this.$store.state.module.shimmer},flags:function(){return this.$store.getters.getFlags}},methods:{getAddress:function(){var t=this,e=this.getUrl("user/address");this.$Progress.start(),axios.get(e).then((function(e){e.data.error?(t.$Progress.fail(),toastr.error(e.data.error,t.lang.Error+" !!")):(t.$store.commit("getUserAddresses",e.data.addresses),t.$store.commit("setShimmer",!1),0==t.addresses.length&&(t.address_area=!0),t.$Progress.finish())})).catch((function(e){t.$Progress.fail(),422==e.response.status&&(t.errors=e.response.data.errors)}))},makeDefault:function(t,e){var s=this,r=this.getUrl("default/user-address/"+e+"/"+t);axios.post(r).then((function(t){t.data.error?toastr.error(t.data.error,s.lang.Error+" !!"):(toastr.success(t.data.success,s.lang.Success+" !!"),s.$store.dispatch("user",t.data.user),s.default_shipping=t.data.user.shipping_address,s.default_billing=t.data.user.billing_address,s.getAddress())}))}}};const i=(0,s(1900).Z)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"sg-page-content"},[e("section",{staticClass:"sg-global-content"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("user_sidebar",{attrs:{current:t.current}}),t._v(" "),e("div",{staticClass:"col-lg-9"},[e("div",{staticClass:"sg-shipping"},[e("div",{staticClass:"title"},[e("h1",[t._v(t._s(t.lang.addresses))])]),t._v(" "),e("addressForm",{ref:"address_form"}),t._v(" "),t.lengthCounter(t.addresses)>0?e("div",{staticClass:"row"},t._l(t.addresses,(function(s,r){return e("div",{key:r,staticClass:"col-lg-6"},[e("div",{staticClass:"sg-card address"},[e("div",{staticClass:"justify-content-between d-flex"},[e("div",{staticClass:"text"},[e("ul",{staticClass:"global-list"},[e("li",[t._v(t._s(t.lang.name)+": "+t._s(s.name))]),t._v(" "),e("li",[t._v(t._s(t.lang.last_name)+": "+t._s(s.last_name))]),t._v(" "),e("li",[t._v(t._s(t.lang.personal_number)+": "+t._s(s.personal_number))]),t._v(" "),e("li",[t._v(t._s(t.lang.phone)+": "+t._s(s.phone_no))]),t._v(" "),e("li",[t._v(t._s(t.lang.city)+": "+t._s(s.city))]),t._v(" "),e("li",[t._v(t._s(t.lang.address)+": "+t._s(s.address))])])]),t._v(" "),e("div",{staticClass:"dropdown float-right"},[e("button",{staticClass:"dropbtn mdi mdi-dots-vertical",attrs:{"aria-label":"More options","aria-haspopup":"true","aria-expanded":"false"}}),t._v(" "),e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.$refs.address_form.edit(s)}}},[t._v(t._s(t.lang.edit))]),t._v(" "),s.default_shipping?t._e():e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.makeDefault(s.id,"shipping")}}},[t._v(t._s(t.lang.make_default_shipping))]),t._v(" "),s.default_shipping||s.default_billing?t._e():e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.$refs.address_form.deleteAddress(s.id)}}},[t._v(t._s(t.lang.delete))])])])]),t._v(" "),e("div",{staticClass:"d-flex"},[s.default_shipping?e("div",{staticClass:"default-batch"},[t._v("\n                      "+t._s(t.lang.default_shipping)+"\n                    ")]):t._e()])])])})),0):t.shimmer?e("div",{staticClass:"row"},t._l(4,(function(t,s){return e("div",{key:"address"+s,staticClass:"col-lg-6 mb-3"},[e("shimmer",{attrs:{height:200}})],1)})),0):t._e()],1)])],1)])])])}),[],!1,null,null,null).exports},5593:(t,e,s)=>{s.d(e,{Z:()=>d});var r=s(4443);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function n(t,e,s){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var r=s.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const i={name:"addressForm",props:{addressErrors:{type:[Object,Array],default:function(){return{}}}},components:{telePhone:r.Z},data:function(){return{form:{name:"",personal_number:"",phone_no:"",address:"",city_id:""},cities:[]}},mounted:function(){this.getCities(),this.address_area_title=this.lang.address_area_title,this.address_submit_button=this.lang.address_submit_button},watch:{lang:function(){this.address_area_title=this.lang.address_area_title,this.address_submit_button=this.lang.address_submit_button}},computed:{},methods:{emitAddressData:function(){this.$emit("address-updated",function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},this.form))},getNumber:function(t){this.form.phone_no=t,this.emitAddressData()},saveAddress:function(){var t=this;this.loading=!0;var e=this.getUrl("store/user-address");return axios.post(e,this.form).then((function(e){if(t.loading=!1,e.data.error)return toastr.error(e.data.error,t.lang.Error+" !!"),Promise.reject(e.data.error);var s=e.data.address;return console.log("Saved Address:",s),t.$emit("addressSaved",s),t.clearForm(),s})).catch((function(e){return t.loading=!1,422===e.response.status&&(t.errors=e.response.data.errors),Promise.reject(e)}))},clearForm:function(){this.form.id="",this.form.name="",this.form.phone_no="",this.form.address="",this.form.personal_number="",this.form.city_id=""},getCities:function(){var t=this,e=this.getUrl("city/by-state/1");axios.get(e).then((function(e){e.data.error?toastr.error(e.data.error,t.lang.Error+" !!"):t.cities=e.data.cities})).catch((function(e){toastr.error(e.message,t.lang.Error+" !!")}))}}};const d=(0,s(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",{ref:"update",staticClass:"accordion add-new"},[e("div",{staticClass:"accordion-item"},[e("div",{staticClass:"accordion-header"}),t._v(" "),e("div",{staticClass:"accordion-collapse collapse show",attrs:{id:"shipping_accordion","aria-labelledby":"address1","data-bs-parent":"#accordionExample"}},[e("div",{staticClass:"accordion-body"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.saveAddress()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.name))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{error_border:t.addressErrors.name},attrs:{type:"text",placeholder:t.lang.name},domProps:{value:t.form.name},on:{input:[function(e){e.target.composing||t.$set(t.form,"name",e.target.value)},t.emitAddressData]}})]),t._v(" "),t.addressErrors.name?e("span",{staticClass:"validation_error"},[t._v(t._s(t.addressErrors.name[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("label",[t._v(t._s(t.lang.phone))]),t._v(" "),e("telePhone",{attrs:{phone_error:t.addressErrors.phone_no?t.addressErrors.phone_no[0]:null},on:{phone_no:t.getNumber}}),t._v(" "),t.addressErrors.phone_no?e("span",{staticClass:"validation_error"},[t._v(t._s(t.addressErrors.phone_no[0]))]):t._e()],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.personal_number))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.personal_number,expression:"form.personal_number"}],staticClass:"form-control",class:{error_border:t.addressErrors.personal_number},attrs:{type:"text",placeholder:t.lang.personal_number},domProps:{value:t.form.personal_number},on:{input:[function(e){e.target.composing||t.$set(t.form,"personal_number",e.target.value)},t.emitAddressData]}})]),t._v(" "),t.addressErrors.personal_number?e("span",{staticClass:"validation_error"},[t._v(t._s(t.addressErrors.personal_number[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.city))]),t._v(" "),e("v-select",{class:{error_border:t.addressErrors.city_id},attrs:{dir:t.settings.text_direction,label:"name",options:t.cities,reduce:function(t){return t.id}},on:{input:t.emitAddressData},model:{value:t.form.city_id,callback:function(e){t.$set(t.form,"city_id",e)},expression:"form.city_id"}})],1),t._v(" "),t.addressErrors.city_id?e("span",{staticClass:"validation_error"},[t._v(t._s(t.addressErrors.city_id[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.address))]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",class:{error_border:t.addressErrors.address},attrs:{placeholder:t.lang.street_address},domProps:{value:t.form.address},on:{input:[function(e){e.target.composing||t.$set(t.form,"address",e.target.value)},t.emitAddressData]}})])]),t._v(" "),t.addressErrors.address?e("span",{staticClass:"validation_error"},[t._v(t._s(t.addressErrors.address[0]))]):t._e()])])])])])])])}),[],!1,null,"251b6c74",null).exports},5662:(t,e,s)=>{s.d(e,{Z:()=>a});const r={name:"shimmer.vue",props:["height"],data:function(){return{style:{height:this.height+"px"}}}};const a=(0,s(1900).Z)(r,(function(){var t=this;return(0,t._self._c)("img",{staticClass:"shimmer",style:[t.height?t.style:null],attrs:{src:t.getUrl("public/images/default/preview.jpg"),alt:"shimmer"}})}),[],!1,null,null,null).exports},4443:(t,e,s)=>{s.d(e,{Z:()=>a});const r={name:"telephone",props:{phone_error:"",disabled:Boolean},data:function(){return{dropdown_active:!1,search_key:"",selected_country:"",defaultCountry:{flag:"",code:"",name:""},activeClass:"hideShow",phone_no:"",count:1,filtered_countries:[],country_id:[]}},watch:{phone:function(){this.phone_no=this.phone}},mounted:function(){this.country(),this.country_id=this.settings.default_country},computed:{phone:function(){return this.$store.getters.getMobileNo},countries:function(){return this.$store.getters.getCountryList}},methods:{PlusCheck:function(t){return!!t&&t.phonecode.includes("+")},getCountryCode:function(t){this.activeClass="hideShow",this.phone_no="",this.count=1,this.defaultCountry.flag=t?t.flag_icon:this.getUrl("public/images/flags/bd.png");t?(this.country_id=t.id,t.phonecode.includes("+")?this.defaultCountry.code=t.phonecode:this.defaultCountry.code="+"+t.phonecode,this.defaultCountry.name=t.name):(this.defaultCountry.code="+880",this.defaultCountry.name="Bangladesh"),this.phone_no=this.defaultCountry.code},getNum:function(){this.$emit("phone_no",this.phone_no),this.count++},country:function(){var t=this,e=this.getUrl("get/country-list");if(this.countries.length>0){this.filtered_countries=this.countries;var s=this.countries.find((function(e){return e.id==t.settings.default_country}));this.getCountryCode(s)}else axios.get(e).then((function(e){if(e.data.error)toastr.error(e.data.error,t.lang.Error+" !!");else{t.$store.commit("setCountryList",e.data.countries),t.filtered_countries=e.data.countries;var s=t.countries.find((function(e){return e.id==t.settings.default_country}));t.getCountryCode(s)}}))}}};const a=(0,s(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"yoori__signup--form",class:{error_border:t.phone_error}},[e("div",{staticClass:"country__code--config"},[e("div",{staticClass:"country__code--config-details"},[e("span",{staticClass:"country__code--flag"},[e("img",{staticClass:"img-fluid",attrs:{src:t.defaultCountry.flag,alt:"Flag"}})])])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_no,expression:"phone_no"}],staticClass:"number",attrs:{type:"tel",disabled:t.disabled},domProps:{value:t.phone_no},on:{keyup:function(e){return t.$emit("phone_no",t.phone_no)},input:function(e){e.target.composing||(t.phone_no=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.country_id,expression:"country_id"}],attrs:{type:"hidden"},domProps:{value:t.country_id},on:{input:function(e){e.target.composing||(t.country_id=e.target.value)}}})])}),[],!1,null,"612711bd",null).exports},8680:(t,e,s)=>{s.d(e,{Z:()=>a});const r={name:"user_sidebar",props:["current","addresses"],data:function(){return{loading:!1,download_url:!1,show_menu:""}},mounted:function(){this.checkAuth()},computed:{totalReward:function(){return this.$store.getters.getTotalReward},modalType:function(){return this.$store.getters.getModalType}},components:{shimmer:s(5662).Z},methods:{checkAuth:function(){var t=this,e=this.getUrl("home/check-auth");axios.get(e).then((function(e){t.$store.dispatch("user",e.data.user),t.$store.commit("getOrderUrl",e.data.order_urls),t.authUser?"admin"==t.authUser.user_type&&t.$router.push({name:"home"}):t.$router.push({name:"login"}),e.data.reward&&t.$store.commit("setTotalReward",e.data.reward),e.data.download_urls&&(t.download_url=!0)}))},convertReward:function(){var t=this,e=this.getUrl("user/convert-reward"),s={amount:this.converted_reward/this.settings.reward_convert_rate,reward:this.converted_reward};s.amount>0&&this.totalReward.rewards>=this.converted_reward&&confirm("Are You Sure! You want to Convert ?")&&(this.loading=!0,axios.post(e,s).then((function(e){t.loading=!1,e.data.error?toastr.error(e.data.error,t.lang.Error+" !!"):(toastr.success(e.data.success,t.lang.Success+"!!"),$("#convert_reward").modal("hide"),t.converted_reward="",t.$store.dispatch("user",e.data.user),t.$store.commit("setTotalReward",e.data.reward))})).catch((function(e){t.loading=!1})))},showMenu:function(){"displayMenu"==this.show_menu?this.show_menu="":this.show_menu="displayMenu"}}};const a=(0,s(1900).Z)(r,(function(){var t=this,e=t._self._c;return t.authUser?e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"sidebar-menu"},[e("ul",{staticClass:"global-list"},[e("li",{class:{active:"dashboard"===t.current}},[e("router-link",{attrs:{to:{name:"dashboard"}}},[e("span",{staticClass:"mdi mdi-name mdi-view-dashboard-outline"}),t._v(" "+t._s(t.lang.dashboard)+"\n                    ")])],1),t._v(" "),e("li",{class:{active:"addresses"===t.current}},[e("router-link",{attrs:{to:{name:"addresses"}}},[e("span",{staticClass:"mdi mdi-name mdi-map-marker-outline"}),t._v("\n                        "+t._s(t.lang.addresses)+"\n                    ")])],1),t._v(" "),e("li",{class:{active:"notification"===t.current}},[e("router-link",{attrs:{to:{name:"notification"}}},[e("span",{staticClass:"mdi mdi-name mdi-bell-outline"}),t._v("\n                        "+t._s(t.lang.notification)+"\n                    ")])],1),t._v(" "),e("li",{class:{active:"order_history"===t.current}},[e("router-link",{attrs:{to:{name:"order.history"}}},[e("span",{staticClass:"mdi mdi-name mdi-cart-outline"}),t._v("\n                        "+t._s(t.lang.order_history)+"\n                    ")])],1),t._v(" "),t.download_url?e("li",{class:{active:"digital_product_order_history"===t.current}},[e("router-link",{attrs:{to:{name:"orders.digital.product"}}},[e("span",{staticClass:"mdi mdi-name mdi-cart-arrow-down"}),t._v(" "+t._s(t.lang.digital_product_order)+"\n                    ")])],1):t._e(),t._v(" "),1==t.settings.coupon_system?e("li",{class:{active:"gift_voucher"===t.current}},[e("router-link",{attrs:{to:{name:"gift.voucher"}}},[e("span",{staticClass:"mdi mdi-name mdi-wallet-giftcard"}),t._v("\n                        "+t._s(t.lang.gift_voucher)+"\n                    ")])],1):t._e(),t._v(" "),e("li",{class:{active:"change_password"===t.current}},[e("router-link",{attrs:{to:{name:"change.password"}}},[e("span",{staticClass:"mdi mdi-name mdi-lock-outline"}),t._v("\n                        "+t._s(t.lang.change_password)+"\n                    ")])],1),t._v(" "),1==t.settings.wallet_system?e("li",{class:{active:"wallet_history"===t.current}},[e("router-link",{attrs:{to:{name:"wallet.history"}}},[e("span",{staticClass:"mdi mdi-wallet-outline"}),t._v("\n                        "+t._s(t.lang.my_wallet)+"\n                    ")])],1):t._e(),t._v(" "),t.addons.includes("reward")?e("li",{class:{active:"reward_history"===t.current}},[e("router-link",{attrs:{to:{name:"reward.history"}}},[e("span",{staticClass:"mdi mdi-vector-point"}),t._v(t._s(t.lang.my_rewards)+"\n                    ")])],1):t._e(),t._v(" "),t.addons.includes("affiliate")&&t.authUser.referral_code?e("li",{staticClass:"dp-arrow",class:{active:"affiliate_system"===t.current,displayMenu:"displayMenu"===t.show_menu},on:{click:t.showMenu}},[t._m(0),t._v(" "),e("ul",{staticClass:"dashboard-dp-menu"},[e("li",[e("router-link",{attrs:{to:{name:"affiliate.system"}}},[t._v("Affiliate System")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"/sdfsfd"}},[t._v("iewww1")])],1)])]):t._e(),t._v(" "),1==t.settings.seller_system?e("li",{class:{active:"followed_shop"===t.current}},[e("router-link",{attrs:{to:{name:"shop.followed"}}},[e("span",{staticClass:"mdi mdi-home-heart"}),t._v(t._s(t.lang.shop)+"\n                    ")])],1):t._e()])]),t._v(" "),e("div",{staticClass:"modal fade reward",attrs:{id:"convert_reward",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-md modal-dialog-centered modal-dialog-scrollable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.lang.reward_point))]),t._v(" "),t._m(1)]),t._v(" "),e("div",{staticClass:"modal-body reward_modal"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.convertReward.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-center"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"reward"}},[t._v(t._s(t.lang.reward_point)+" ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.converted_reward,expression:"converted_reward"}],staticClass:"form-control",attrs:{type:"text",id:"reward",placeholder:t.lang.enter_point_you_want_convert},domProps:{value:t.converted_reward},on:{input:function(e){e.target.composing||(t.converted_reward=e.target.value)}}})]),t._v(" "),null!=t.totalReward?e("div",{staticClass:"text-start"},[e("p",[t._v("Available Points to Convert : "+t._s(t.totalReward.rewards))]),t._v(" "),e("p",[t._v(t._s(t.settings.reward_convert_rate)+t._s(t.lang.reward_points)+t._s(t.priceFormat(1)))]),t._v(" "),t.totalReward.rewards>0?e("p",[t._v(t._s(t.lang.total_amount_you_will_get)+"\n                                            "+t._s(t.priceFormat(t.converted_reward/t.settings.reward_convert_rate)))]):t._e()]):t._e(),t._v(" "),t.loading?e("loading_button",{attrs:{class_name:"btn btn-primary mt-3"}}):e("button",{staticClass:"btn btn-primary mt-3",class:{disable_btn:t.converted_reward<t.settings.reward_convert_rate||t.totalReward.rewards<t.converted_reward},attrs:{type:"submit"}},[t._v("\n                                        "+t._s(t.lang.covert_rewards)+"\n                                    ")])],1)])])])])])])]):t._e()}),[function(){var t=this._self._c;return t("a",{attrs:{href:"javascript:void(0)"}},[t("span",{staticClass:"mdi mdi-vector-point"}),this._v("Affiliate\n                ")])},function(){var t=this._self._c;return t("button",{staticClass:"close modal_close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null).exports}}]);