"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[841],{841:(t,e,s)=>{function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function r(t,e,s){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var r=s.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.r(e),s.d(e,{default:()=>u});var o=s(4016),i=s(1719),n=s(9744),l=s(5309),c=s(1427),d=s(9057);const _={name:"checkout",components:{telePhone:i.Z,shimmer:o.Z,coupon:n.Z,payment_details:l.Z,addressForm:c.Z,gdpr_page:d.Z},data:function(){return{coupon_area:!0,coupon_list:[],checkout:{},form:{id:"",name:"",email:"",phone_no:"",address:"",country_id:"",state_id:"",city_id:"",postal_code:""},shipping_cost:0,address_area:!1,default_shipping:{},default_billing:{},same_address:!0,addresses:[],pick_hubs:[],pick_hub_id:"",checkout_method:2,loading:!1,save_loading:!1,address_area_title:"Add a new address",address_submit_button:"Add"}},mounted:function(){this.getAddress(),this.address_submit_button=this.lang.add},watch:{carts:function(t,e){this.getAddress()},lang:function(t,e){this.address_submit_button=this.lang.add}},computed:{carts:function(){return this.$store.getters.getCarts},shimmer:function(){return this.$store.state.module.shimmer}},methods:{getAddress:function(){var t=this,e=this.getUrl("user/address?cart_page="+this.$route.query.cart_page);this.$Progress.start(),axios.get(e,{params:this.$route.params.type}).then((function(e){if(e.data.error)t.$Progress.fail(),toastr.error(e.data.error,t.lang.Error+" !!");else{t.$store.commit("setLoginRedirection","");var s=e.data.coupons;t.parseData(e.data.carts,e.data.checkouts,s),t.addresses=e.data.addresses,t.checkout=e.data.checkout,t.pick_hubs=e.data.pickup_hubs;for(var a=0;a<t.addresses.length;a++)1==t.addresses[a].default_shipping&&(t.default_shipping=t.addresses[a]),1==t.addresses[a].default_billing&&(t.default_billing=t.addresses[a]);0===t.addresses.length&&(t.address_area=!0),t.$Progress.finish()}})).catch((function(e){t.$Progress.fail()}))},confirmOrder:function(){var t=this;if(!this.$refs.privacy_agreement.checkAgreements())return toastr.info(this.lang.accept_terms,this.lang.Error+" !!");if(this.payment_form.checkout_method=this.checkout_method,1==this.checkout_method){if(!this.pick_hub_id)return toastr.info(this.lang.please_choose_a_pickHub_point,this.lang.Error+" !!");this.payment_form.pick_hub_id=this.pick_hub_id}else{if(!this.default_shipping.id)return toastr.info(this.lang.please_choose_a_billing_address,this.lang.Error+" !!");this.payment_form.shipping_address=this.default_shipping,this.payment_form.billing_address=this.default_billing}this.payment_form.buy_now=this.$route.params.type?this.$route.params.type.is_buy_now:0;var e=this.getUrl("user/confirm-order");this.$Progress.start(),this.loading=!0,axios.post(e,this.payment_form).then((function(e){t.loading=!1,e.data.error?(t.$Progress.fail(),toastr.error(e.data.error,t.lang.Error+" !!")):(t.$Progress.finish(),t.$router.push({name:"payment"}))})).catch((function(e){t.loading=!1}))},billingAddressSelect:function(){this.same_address?this.default_billing=this.default_shipping:this.default_billing={}},parseData:function(t,e,s){this.resetForm(),console.log(t);for(var a=0;a<t.length;a++)this.payment_form.quantity.push({id:t[a].id,quantity:t[a].quantity}),this.payment_form.sub_total+=parseFloat(t[a].price*t[a].quantity),this.payment_form.discount_offer+=parseFloat(t[a].discount*t[a].quantity),"product_base"==this.settings.shipping_cost&&(this.payment_form.shipping_tax+=parseFloat(t[a].shipping_cost)),this.payment_form.tax+=parseFloat(t[a].tax*t[a].quantity),this.payment_form.trx_id=t[a].trx_id;if(e)for(var r in e)this.payment_form.shipping_tax+=parseFloat(e[r].shipping_cost),this.payment_form.tax+=parseFloat(e[r].tax);if(s&&1==this.settings.coupon_system){this.coupon_list=s;for(var o=0;o<s.length;o++)this.payment_form.coupon_discount+=parseFloat(s[o].discount)}this.shipping_cost=this.payment_form.shipping_tax,this.calculateShippingCost()},fetchShippingCost:function(){var t=this;if(this.default_billing=this.default_shipping,"area_base"==this.settings.shipping_fee_type){var e=this.getUrl("user/find/shipping_cost"),s={city_id:this.default_shipping.address_ids.city_id};axios.post(e,s).then((function(e){e.data.error?toastr.error(e.data.error,t.lang.Error+" !!"):(t.payment_form.shipping_tax=e.data.shipping_cost,t.shipping_cost=t.payment_form.shipping_tax,t.payment_form.total=parseFloat(parseFloat(t.payment_form.sub_total)+parseFloat(t.payment_form.tax)+parseFloat(t.payment_form.shipping_tax)-(parseFloat(t.payment_form.discount_offer)+parseFloat(t.payment_form.coupon_discount))),"after_tax"==t.settings.tax_type?(t.payment_form.total=parseFloat(parseFloat(t.payment_form.sub_total)+parseFloat(t.payment_form.shipping_tax)-(parseFloat(t.payment_form.discount_offer)+parseFloat(t.payment_form.coupon_discount))),t.payment_form.total+=t.payment_form.tax,t.payment_form.total<0&&(t.payment_form.total=0)):(t.payment_form.total=parseFloat(parseFloat(t.payment_form.sub_total)+parseFloat(t.payment_form.tax)+parseFloat(t.payment_form.shipping_tax)-(parseFloat(t.payment_form.discount_offer)+parseFloat(t.payment_form.coupon_discount))),t.payment_form.total<0&&(t.payment_form.total=0)))}))}return!1},calculateShippingCost:function(){this.payment_form.shipping_tax=0,1==this.checkout_method?this.payment_form.shipping_tax=0:this.payment_form.shipping_tax=this.shipping_cost,"after_tax"==this.settings.tax_type&&"order_base"==this.settings.vat_and_tax_type?(this.payment_form.total=parseFloat(parseFloat(this.payment_form.sub_total)+parseFloat(this.payment_form.shipping_tax)-(parseFloat(this.payment_form.discount_offer)+parseFloat(this.payment_form.coupon_discount))),this.payment_form.total+=this.payment_form.tax,this.payment_form.total<0&&(this.payment_form.total=0)):(this.payment_form.total=parseFloat(parseFloat(this.payment_form.sub_total)+parseFloat(this.payment_form.tax)+parseFloat(this.payment_form.shipping_tax)-(parseFloat(this.payment_form.discount_offer)+parseFloat(this.payment_form.coupon_discount))),this.payment_form.total<0&&(this.payment_form.total=0))},getNumber:function(t){this.form.phone_no=t}}};const u=(0,s(1900).Z)(_,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"sg-page-content"},[e("div",{staticClass:"sg-breadcrumb"},[e("div",{staticClass:"container"},[e("ol",{staticClass:"breadcrumb justify-content-center"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"cart"}}},[t._v(t._s(t.lang.view_cart))])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item"},[t._v(t._s(t.lang.check_out))]),t._v(" "),e("li",{staticClass:"breadcrumb-item"},[e("a",{attrs:{href:"javascript:void(0)"}},[t._v(t._s(t.lang.confirm_order))])])])])]),t._v(" "),e("section",{staticClass:"shopping-cart"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-8"},[e("div",{staticClass:"sg-shipping"},[e("div",{staticClass:"title"},[e("h1",[t._v(t._s(t.lang.choose_a_way_to_collect_order))])]),t._v(" "),t.pick_hubs.length>0?e("div",{staticClass:"left-content"},[e("form",{staticClass:"form-checkbox"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkout_method,expression:"checkout_method"}],staticClass:"form-check-input",attrs:{type:"radio",id:"address",value:"2"},domProps:{checked:t._q(t.checkout_method,"2")},on:{change:[function(e){t.checkout_method="2"},t.calculateShippingCost]}}),t._v(" "),e("label",{attrs:{for:"address"}},[t._v(t._s(t.lang.use_shipping_billing_addresses))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkout_method,expression:"checkout_method"}],staticClass:"form-check-input",attrs:{type:"radio",id:"pickhub",value:"1"},domProps:{checked:t._q(t.checkout_method,"1")},on:{change:[function(e){t.checkout_method="1"},t.calculateShippingCost]}}),t._v(" "),e("label",{attrs:{for:"pickhub"}},[t._v(t._s(t.lang.use_pickHub_point))])])])]):t._e(),t._v(" "),t.pick_hubs.length>0&&1==t.checkout_method?e("div",{staticClass:"title mt-2"},[e("h1",[t._v(t._s(t.lang.pickHub_point))])]):t._e(),t._v(" "),1==t.checkout_method&&t.pick_hubs.length>0?e("div",{staticClass:"left-content"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.pick_hub_id,expression:"pick_hub_id"}],staticClass:"form-control",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.pick_hub_id=e.target.multiple?s:s[0]},t.calculateShippingCost]}},[e("option",{attrs:{value:""}},[t._v(t._s(t.lang.select_pickHub_point))]),t._v(" "),t._l(t.pick_hubs,(function(s,a){return e("option",{key:a,domProps:{value:s.id}},[t._v(t._s(s.name)+"\n                  => "+t._s(s.address)+"\n                ")])}))],2)]):t._e(),t._v(" "),t.addresses.length>0&&2==t.checkout_method?e("div",{staticClass:"title mt-2"},[e("h1",[t._v(t._s(t.lang.shipping_address))])]):t._e(),t._v(" "),t.addresses&&2==t.checkout_method?e("div",{staticClass:"row text-capitalize"},[t._l(t.addresses,(function(s,a){return e("div",{key:a,staticClass:"col-lg-6"},[e("label",{staticClass:"address_selector",attrs:{id:"shipping_"+s.id}},[e("div",{staticClass:"sg-card address chekout",class:t.default_shipping.id==s.id?"selected":""},[e("div",{staticClass:"justify-content-between d-flex"},[e("div",{staticClass:"text d-flex"},[e("div",{staticClass:"float-left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.default_shipping,expression:"default_shipping"}],staticClass:"form-check-input",attrs:{type:"radio",name:"radioNoLabel",id:"shipping_"+s.id,"aria-label":"..."},domProps:{value:s,checked:t._q(t.default_shipping,s)},on:{change:[function(e){t.default_shipping=s},t.fetchShippingCost]}})]),t._v(" "),e("div",{staticClass:"address-right"},[e("ul",{staticClass:"global-list"},[e("li",[t._v(t._s(t.lang.name)+" : "+t._s(s.name))]),t._v(" "),e("li",[t._v(t._s(t.lang.email)+" : "+t._s(s.email))]),t._v(" "),e("li",[t._v(t._s(t.lang.phone)+" : "+t._s(s.phone_no))]),t._v(" "),e("li",[t._v(t._s(t.lang.street_address)+" : "+t._s(s.address))]),t._v(" "),e("li",[t._v(t._s(t.lang.country)+" : "+t._s(s.country))]),t._v(" "),e("li",[t._v(t._s(t.lang.state)+" : "+t._s(s.state))]),t._v(" "),e("li",[t._v(t._s(t.lang.city)+" : "+t._s(s.city))])])])]),t._v(" "),e("div",{staticClass:"dropdown"},[e("span",{staticClass:"mdi mdi-name mdi-dots-vertical dropbtn"}),t._v(" "),e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.$refs.address_form.edit(s)}}},[t._v(t._s(t.lang.edit))]),t._v(" "),s.default_shipping||s.default_billing?t._e():e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.$refs.address_form.deleteAddress(s.id)}}},[t._v(t._s(t.lang.delete))])])])])])])])})),t._v(" "),e("div",{staticClass:"col-lg-12"},[t.addresses.length>0?e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.same_address,expression:"same_address"}],staticClass:"form-check-input",attrs:{checked:"",id:"same_as",type:"checkbox"},domProps:{checked:Array.isArray(t.same_address)?t._i(t.same_address,null)>-1:t.same_address},on:{change:[function(e){var s=t.same_address,a=e.target,r=!!a.checked;if(Array.isArray(s)){var o=t._i(s,null);a.checked?o<0&&(t.same_address=s.concat([null])):o>-1&&(t.same_address=s.slice(0,o).concat(s.slice(o+1)))}else t.same_address=r},t.billingAddressSelect]}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"same_as"}},[t._v("\n                    "+t._s(t.lang.address_is_shipping)+"\n                  ")])]):t._e()])],2):t._e(),t._v(" "),t.addresses.length>0&&!t.same_address&&2==t.checkout_method?e("div",{staticClass:"title"},[e("h1",[t._v(t._s(t.lang.billing_address))])]):t._e(),t._v(" "),t.addresses&&!t.same_address&&2==t.checkout_method?e("div",{staticClass:"row text-capitalize"},t._l(t.addresses,(function(s,a){return e("div",{key:a,staticClass:"col-lg-6"},[e("label",{staticClass:"address_selector",attrs:{id:"billing_"+s.id}},[e("div",{staticClass:"sg-card address chekout",class:t.default_billing.id==s.id?"selected":""},[e("div",{staticClass:"justify-content-between d-flex"},[e("div",{staticClass:"text d-flex"},[e("div",{staticClass:"float-left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.default_billing,expression:"default_billing"}],staticClass:"form-check-input",attrs:{type:"radio",id:"billing_"+s.id,"aria-label":"..."},domProps:r({checked:t.default_billing.id==s.id,value:s},"checked",t._q(t.default_billing,s)),on:{change:function(e){t.default_billing=s}}})]),t._v(" "),e("div",{staticClass:"address-right"},[e("ul",{staticClass:"global-list"},[e("li",[t._v(t._s(t.lang.name)+" : "+t._s(s.name))]),t._v(" "),e("li",[t._v(t._s(t.lang.email)+" : "+t._s(s.email))]),t._v(" "),e("li",[t._v(t._s(t.lang.phone)+" : "+t._s(s.phone_no))]),t._v(" "),e("li",[t._v(t._s(t.lang.street_address)+" : "+t._s(s.address))]),t._v(" "),e("li",[t._v(t._s(t.lang.country)+" : "+t._s(s.country))]),t._v(" "),e("li",[t._v(t._s(t.lang.state)+" : "+t._s(s.state))]),t._v(" "),e("li",[t._v(t._s(t.lang.city)+" : "+t._s(s.city))])])])]),t._v(" "),e("div",{staticClass:"dropdown",staticStyle:{float:"right"}},[e("span",{staticClass:"mdi mdi-name mdi-dots-vertical dropbtn"}),t._v(" "),e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.$refs.address_form.edit(s)}}},[t._v(t._s(t.lang.edit))]),t._v(" "),s.default_shipping||s.default_billing?t._e():e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.$refs.address_form.deleteAddress(s.id)}}},[t._v(t._s(t.lang.delete))])])])])])])])})),0):t._e(),t._v(" "),2==t.checkout_method?e("addressForm",{ref:"address_form"}):t._e()],1)]),t._v(" "),t.carts?e("div",{staticClass:"col-lg-4 pl-lg-5"},[e("div",{staticClass:"order-summary"},[e("h6",[t._v(t._s(t.lang.price_details))]),t._v(" "),t.authUser?e("coupon",{attrs:{coupon_list:t.coupon_list,cartList:t.carts,trx_id:t.payment_form.trx_id}}):t._e(),t._v(" "),t.addons.includes("ramdhani")?e("div",{staticClass:"form-group mt-3"},[e("h6",[t._v(t._s(t.lang.delivery_date))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.payment_form.delivery_date,expression:"payment_form.delivery_date"}],staticClass:"form-control mb-0",attrs:{type:"date",id:"delivery_date"},domProps:{value:t.payment_form.delivery_date},on:{input:function(e){e.target.composing||t.$set(t.payment_form,"delivery_date",e.target.value)}}}),t._v(" "),e("small",{staticClass:"form-text text-muted",attrs:{id:"dateHelp"}},[t._v(t._s(t.lang.choose_your_preferable_date))])]):t._e(),t._v(" "),e("div",{staticClass:"sg-card"},[e("payment_details",{attrs:{sub_total:t.payment_form.sub_total,tax:t.payment_form.tax,discount_offer:t.payment_form.discount_offer,shipping_tax:t.payment_form.shipping_tax,coupon_discount:t.payment_form.coupon_discount,total:t.payment_form.total}}),t._v(" "),e("gdpr_page",{ref:"privacy_agreement",attrs:{agreements:t.settings.privacy_agreement}}),t._v(" "),t.loading?e("loading_button",{attrs:{class_name:"btn btn-primary"}}):e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0)"},on:{click:t.confirmOrder}},[t._v(t._s(t.lang.proceed_to_payment))])],1)],1)]):t._e()])])])])}),[],!1,null,null,null).exports},1427:(t,e,s)=>{s.d(e,{Z:()=>r});const a={name:"addressForm",components:{telePhone:s(1719).Z},data:function(){return{address_area:!1,address_area_title:"",form:{name:"",email:"",phone_no:"",address:"",country_id:"",state_id:"",city_id:"",postal_code:"",id:""},states:[],cities:[],address_submit_button:"",loading:!1}},mounted:function(){this.address_area_title=this.lang.address_area_title,this.address_submit_button=this.lang.address_submit_button},watch:{lang:function(){this.address_area_title=this.lang.address_area_title,this.address_submit_button=this.lang.address_submit_button}},computed:{countries:function(){return this.$store.getters.getCountryList}},methods:{saveAddress:function(){var t=this;this.loading=!0;var e=this.getUrl("store/user-address");axios.post(e,this.form).then((function(e){t.loading=!1,e.data.error?toastr.error(e.data.error,t.lang.Error+" !!"):(toastr.success(e.data.success,t.lang.Success+" !!"),t.errors=[],t.$parent.getAddress(),t.address_area=!1,t.form.id="",t.form.name="",t.form.email="",t.form.phone_no="",t.form.address="",t.form.country_id="",t.form.state_id="",t.form.city_id="",t.form.postal_code="",t.address_area_title=t.lang.address_area_title,t.address_submit_button=t.lang.address_submit_button,t.$store.commit("setMobileNo",""))})).catch((function(e){t.loading=!1,422==e.response.status&&(t.errors=e.response.data.errors)}))},getNumber:function(t){this.form.phone_no=t},getStates:function(t){var e=this,s=this.form.country_id,a=this.getUrl("state/by-country/"+s);axios.get(a).then((function(s){s.data.error?toastr.error(s.data.error,e.lang.Error+" !!"):(e.states=s.data.states,t&&t.address_ids&&(e.form.state_id=parseInt(t.address_ids.state_id),e.getCities(t)))}))},getCities:function(t){var e=this,s=this.form.state_id,a=this.getUrl("city/by-state/"+s);axios.get(a).then((function(s){s.data.error?toastr.error(s.data.error,e.lang.Error+" !!"):(e.cities=s.data.cities,t&&t.address_ids&&(e.form.city_id=parseInt(t.address_ids.city_id)))}))},edit:function(t){this.errors=[],this.address_area=!0,this.address_area_title=this.lang.update_address,this.address_submit_button=this.lang.update,this.form.name=t.name,this.form.email=t.email,this.form.phone_no=t.phone_no,this.form.address=t.address,this.form.country_id=parseInt(t.address_ids?t.address_ids.country_id:""),this.form.postal_code=t.postal_code,this.form.id=t.id,this.getStates(t),this.$store.commit("setMobileNo",this.form.phone_no);var e=this.$refs.update;e&&e.scrollIntoView({behavior:"smooth"})},deleteAddress:function(t){var e=this,s=this.getUrl("delete/user-address/"+t);axios.get(s).then((function(t){t.data.error?toastr.error(t.data.error,e.lang.Error+" !!"):(toastr.success(t.data.success,e.lang.Success+" !!"),e.$parent.getAddress())}))}}};const r=(0,s(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{ref:"update",staticClass:"accordion add-new"},[e("div",{staticClass:"accordion-item"},[e("div",{staticClass:"accordion-header"},[e("button",{staticClass:"accordion-button",class:{collapsed:!t.address_area},attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#shipping_accordion","aria-expanded":"false","aria-controls":"collapse1"},on:{click:function(e){t.address_area=!t.address_area}}},[t._v(t._s(t.address_area_title)+"\n      ")])]),t._v(" "),e("div",{staticClass:"accordion-collapse collapse",class:{show:t.address_area},attrs:{id:"shipping_accordion","aria-labelledby":"address1","data-bs-parent":"#accordionExample"}},[e("div",{staticClass:"accordion-body"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.saveAddress()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.name))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{error_border:t.errors.name},attrs:{type:"text",placeholder:t.lang.name},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),t._v(" "),t.errors.name?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.name[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.email))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:{error_border:t.errors.email},attrs:{type:"email",placeholder:t.lang.email},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),t._v(" "),t.errors.email?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.email[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("label",[t._v(t._s(t.lang.phone))]),t._v(" "),e("telePhone",{attrs:{phone_error:t.errors.phone_no?t.errors.phone_no[0]:null},on:{phone_no:t.getNumber}}),t._v(" "),t.errors.phone_no?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.phone_no[0]))]):t._e()],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.country))]),t._v(" "),e("v-select",{class:{error_border:t.errors.country_id},attrs:{dir:t.settings.text_direction,label:"name",options:t.countries,reduce:function(t){return t.id}},on:{input:function(e){return t.getStates()}},model:{value:t.form.country_id,callback:function(e){t.$set(t.form,"country_id",e)},expression:"form.country_id"}})],1),t._v(" "),t.errors.country_id?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.country_id[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.state))]),t._v(" "),e("v-select",{class:{error_border:t.errors.state_id},attrs:{dir:t.settings.text_direction,label:"name",options:t.states,reduce:function(t){return t.id}},on:{input:function(e){return t.getCities()}},model:{value:t.form.state_id,callback:function(e){t.$set(t.form,"state_id",e)},expression:"form.state_id"}})],1),t._v(" "),t.errors.state_id?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.state_id[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.city))]),t._v(" "),e("v-select",{class:{error_border:t.errors.city_id},attrs:{dir:t.settings.text_direction,label:"name",options:t.cities,reduce:function(t){return t.id}},model:{value:t.form.city_id,callback:function(e){t.$set(t.form,"city_id",e)},expression:"form.city_id"}})],1),t._v(" "),t.errors.city_id?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.city_id[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.postal_code))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.postal_code,expression:"form.postal_code"}],staticClass:"form-control",class:{error_border:t.errors.postal_code},attrs:{type:"text",placeholder:t.lang.postal_code},domProps:{value:t.form.postal_code},on:{input:function(e){e.target.composing||t.$set(t.form,"postal_code",e.target.value)}}})]),t._v(" "),t.errors.postal_code?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.postal_code[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.address))]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",class:{error_border:t.errors.address},attrs:{placeholder:t.lang.street_address},domProps:{value:t.form.address},on:{input:function(e){e.target.composing||t.$set(t.form,"address",e.target.value)}}})])]),t._v(" "),t.errors.address?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.address[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-12"},[t.loading?e("loading_button",{attrs:{class_name:"btn btn-primary"}}):e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n                "+t._s(t.address_submit_button)+"\n              ")])],1)])])])])])])}),[],!1,null,"12aa7f9e",null).exports},9744:(t,e,s)=>{s.d(e,{Z:()=>o});const a={name:"coupon",props:["coupon_list","cartList","trx_id"],data:function(){return{loading:!1,disabled:!1}},methods:{applyCoupon:function(){var t=this,e=this.getUrl("user/apply_coupon");this.cartList[0]&&this.cartList[0].trx_id?this.payment_form.trx_id=this.cartList[0].trx_id:this.payment_form.trx_id=this.trx_id,this.loading=!0,axios.post(e,this.payment_form).then((function(e){if(t.loading=!1,e.data.error)toastr.error(e.data.error,t.lang.Error+" !!");else{toastr.success(e.data.success,t.lang.Success+" !!"),t.carts=[];var s=e.data.carts,a=e.data.checkouts,r=e.data.coupons;t.$parent.parseData(s,a,r),t.payment_form.coupon_code=""}})).catch((function(e){t.loading=!1,toastr.success("Something Went Wrong","Error !!")}))},removeCoupon:function(t){var e=this;if(confirm("Are You Sure ?")){var s=this.getUrl("user/coupon-delete");this.disabled=!0;var a={trx_id:this.cartList[0].trx_id,coupon_id:t,user_id:this.authUser.id};axios.post(s,a).then((function(t){if(e.disabled=!1,t.data.error)toastr.error(t.data.error,e.lang.Error+" !!");else{toastr.success(t.data.success,e.lang.Success+" !!"),e.carts=[];var s=t.data.carts,a=t.data.checkouts,r=t.data.coupons;e.$parent.parseData(s,a,r),e.payment_form.coupon_code=""}})).catch((function(t){e.disabled=!1,toastr.success("Something Went Wrong","Error !!")}))}}}};var r=(0,s(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"accordion",attrs:{id:"couponAccordion"}},[e("div",{staticClass:"accordion-item"},[e("div",{staticClass:"accordion-header",attrs:{id:"headingOne"}},[e("button",{staticClass:"accordion-button",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#couponCollapse","aria-expanded":"true","aria-controls":"collapseOne"}},[e("span",[e("img",{staticClass:"img-fluid",attrs:{src:t.getUrl("public/images/others/pencil1.png"),alt:"Image"}})]),t._v(t._s(t.lang.apply_coupon_code)+"\n      ")])]),t._v(" "),e("div",{staticClass:"accordion-collapse collapse",attrs:{id:"couponCollapse","aria-labelledby":"headingOne","data-bs-parent":"#couponAccordion"}},[e("div",{staticClass:"accordion-body"},[e("div",{staticClass:"coupon-code-list"},t._l(t.coupon_list,(function(s,a){return e("div",{key:a,staticClass:"coupon-code"},[e("h5",[t._v(t._s(s.title))]),t._v(" "),e("P",[t._v(t._s("flat"==s.discount_type?t.priceFormat(s.discount):s.coupon_discount+"% "+t.lang.off))]),t._v(" "),e("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close",disabled:t.disabled},on:{click:function(e){return t.removeCoupon(s.coupon_id)}}})],1)})),0),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.applyCoupon.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.payment_form.coupon_code,expression:"payment_form.coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.lang.enter_coupon_code,required:""},domProps:{value:t.payment_form.coupon_code},on:{input:function(e){e.target.composing||t.$set(t.payment_form,"coupon_code",e.target.value)}}}),t._v(" "),t.loading?e("loading_button",{attrs:{class_name:"opacity_5"}}):e("button",[t._v(t._s(t.lang.apply))])],1)])])])])}),[],!1,null,"21bc3646",null);const o=r.exports},9057:(t,e,s)=>{s.d(e,{Z:()=>r});const a={props:["agreements"],name:"gdpr_page",data:function(){return{agreement:""}},methods:{checkAgreements:function(){return!(this.agreements.length>0&&!this.agreement)}}};const r=(0,s(1900).Z)(a,(function(){var t=this,e=t._self._c;return t.agreements.length>0?e("div",{staticClass:"form-checkbox custom-gdpr"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.agreement,expression:"agreement"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"tnc",value:"2"},domProps:{checked:Array.isArray(t.agreement)?t._i(t.agreement,"2")>-1:t.agreement},on:{change:function(e){var s=t.agreement,a=e.target,r=!!a.checked;if(Array.isArray(s)){var o=t._i(s,"2");a.checked?o<0&&(t.agreement=s.concat(["2"])):o>-1&&(t.agreement=s.slice(0,o).concat(s.slice(o+1)))}else t.agreement=r}}}),t._v(" "),e("label",{attrs:{for:"tnc"}},[e("div",[t._v(t._s(t.lang.agreement)+"\n      "),t._l(t.agreements,(function(s,a){return e("span",{key:a,staticClass:"agreement"},[t.urlCheck(s.link)?e("a",{attrs:{href:s.link}},[t._v(t._s(s.title))]):e("router-link",{attrs:{to:"page/"+s.link}},[t._v(t._s(s.title))]),t._v(" "),a+2<t.agreements.length?e("a",{staticClass:"separator",attrs:{href:"javascript:void(0)"}},[t._v(",")]):a+1<t.agreements.length?e("a",{staticClass:"separator",attrs:{href:"javascript:void(0)"}},[t._v("&")]):t._e()],1)}))],2)])])]):t._e()}),[],!1,null,"cae494ae",null).exports},5309:(t,e,s)=>{s.d(e,{Z:()=>r});const a={name:"payment_details",props:["sub_total","tax","discount_offer","shipping_tax","coupon_discount","total"],mounted:function(){}};const r=(0,s(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"global-list"},[e("li",[t._v(t._s(t.lang.subtotal)+" "),e("span",[t._v(t._s(t.priceFormat(t.sub_total)))])]),t._v(" "),"before_tax"==t.settings.tax_type||"product_base"==t.settings.vat_and_tax_type?e("li",[t._v(t._s(t.lang.tax)+" "),e("span",[t._v(t._s(t.priceFormat(t.tax)))])]):t._e(),t._v(" "),e("li",[t._v(t._s(t.lang.discount)),e("span",[t._v(t._s(t.priceFormat(t.discount_offer)))])]),t._v(" "),"area_base"!=t.settings.shipping_cost||"cart"!=t.$route.name?e("li",[t._v(t._s(t.lang.shipping_cost)),e("span",[t._v(t._s(t.priceFormat(t.shipping_tax)))])]):t._e(),t._v(" "),1==t.settings.coupon_system?e("li",[t._v(t._s(t.lang.coupon_discount)),e("span",[t._v(t._s(t.priceFormat(t.coupon_discount)))])]):t._e()]),t._v(" "),"after_tax"==t.settings.tax_type&&"order_base"==t.settings.vat_and_tax_type?e("div",{staticClass:"order-total"},[e("p",{staticClass:"font_weight_400"},[t._v(t._s(t.lang.total)+" "),e("span",[t._v(t._s(t.priceFormat(t.total-t.tax)))])]),t._v(" "),e("p",{staticClass:"font_weight_400"},[t._v(t._s(t.lang.tax)+" "),e("span",[t._v(t._s(t.priceFormat(t.tax)))])]),t._v(" "),e("p",{staticClass:"grand_total_style"},[t._v(t._s(t.lang.grand_total)+" "),e("span",[t._v(t._s(t.priceFormat(t.total)))])])]):e("div",{staticClass:"order-total"},[e("p",[t._v(t._s(t.lang.total)+" "),e("span",[t._v(t._s(t.priceFormat(t.total)))])])])])}),[],!1,null,"8f8b7758",null).exports},4016:(t,e,s)=>{s.d(e,{Z:()=>r});const a={name:"shimmer.vue",props:["height"],data:function(){return{style:{height:this.height+"px"}}}};const r=(0,s(1900).Z)(a,(function(){var t=this;return(0,t._self._c)("img",{staticClass:"shimmer",style:[t.height?t.style:null],attrs:{src:t.getUrl("public/images/default/preview.jpg"),alt:"shimmer"}})}),[],!1,null,null,null).exports},1719:(t,e,s)=>{s.d(e,{Z:()=>r});const a={name:"telephone",props:["phone_error"],data:function(){return{dropdown_active:!1,search_key:"",selected_country:"",defaultCountry:{flag:"",code:"",name:""},activeClass:"hideShow",phone_no:"",count:1,filtered_countries:[],country_id:[]}},watch:{phone:function(){this.phone_no=this.phone}},mounted:function(){this.country(),this.country_id=this.settings.default_country},computed:{phone:function(){return this.$store.getters.getMobileNo},countries:function(){return this.$store.getters.getCountryList}},methods:{PlusCheck:function(t){return!!t&&t.phonecode.includes("+")},getCountryCode:function(t){this.activeClass="hideShow",this.phone_no="",this.count=1,this.defaultCountry.flag=t?t.flag_icon:this.getUrl("public/images/flags/bd.png");t?(this.country_id=t.id,t.phonecode.includes("+")?this.defaultCountry.code=t.phonecode:this.defaultCountry.code="+"+t.phonecode,this.defaultCountry.name=t.name):(this.defaultCountry.code="+880",this.defaultCountry.name="Bangladesh"),this.phone_no=this.defaultCountry.code,this.$emit("country_id",this.country_id)},activeDropDown:function(){var t=this;"hideShow"==this.activeClass?this.activeClass="":this.activeClass="hideShow",this.$nextTick((function(){document.addEventListener("click",t.hideSearchDropdown)}))},hideSearchDropdown:function(){this.activeClass="hideShow",document.removeEventListener("click",this.hideSearchDropdown)},countrySearch:function(){var t,e=this;return t=this.countries.filter((function(t){return t.name||t.phonecode})),this.filtered_countries=t.filter((function(t){return t.name&&t.name.toLowerCase().includes(e.search_key)||t.phonecode.includes(e.search_key)})),this.filtered_countries},getNum:function(){this.$emit("phone_no",this.phone_no),this.count++},country:function(){var t=this,e=this.getUrl("get/country-list");if(this.countries.length>0){this.filtered_countries=this.countries;var s=this.countries.find((function(e){return e.id==t.settings.default_country}));this.getCountryCode(s)}else axios.get(e).then((function(e){if(e.data.error)toastr.error(e.data.error,t.lang.Error+" !!");else{t.$store.commit("setCountryList",e.data.countries),t.filtered_countries=e.data.countries;var s=t.countries.find((function(e){return e.id==t.settings.default_country}));t.getCountryCode(s)}}))}}};const r=(0,s(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"yoori__signup--form",class:{error_border:t.phone_error}},[e("div",{staticClass:"country__code--config",on:{click:function(e){return e.stopPropagation(),t.activeDropDown.apply(null,arguments)}}},[e("div",{staticClass:"country__code--config-details"},[e("span",{staticClass:"country__code--flag"},[e("img",{staticClass:"img-fluid",attrs:{src:t.defaultCountry.flag,alt:"Flag"}})]),t._v(" "),e("span",{staticClass:"country__dropdown"})]),t._v(" "),e("ul",{staticClass:"country__code--list",class:t.activeClass,on:{click:function(t){t.stopPropagation()}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search_key,expression:"search_key"}],staticClass:"country__search",attrs:{placeholder:"Search",type:"text"},domProps:{value:t.search_key},on:{keyup:t.countrySearch,input:function(e){e.target.composing||(t.search_key=e.target.value)}}}),t._v(" "),t._l(t.filtered_countries,(function(s,a){return e("li",{on:{click:function(e){return t.getCountryCode(s)}}},[e("span",{staticClass:"country__code--flag"},[e("img",{staticClass:"img-fluid",attrs:{loading:"lazy",src:s.flag_icon,alt:"Flag"}})]),t._v(" "),e("span",{staticClass:"country__name"},[e("strong",[t._v(t._s(s.name))])]),t._v(" "),e("span",{staticClass:"country__code--number"},[t._v("\n                        "+t._s(t.PlusCheck(s)?s.phonecode:"+"+s.phonecode)+"\n                      ")])])}))],2)]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_no,expression:"phone_no"}],staticClass:"number",attrs:{type:"tel"},domProps:{value:t.phone_no},on:{keyup:function(e){return t.$emit("phone_no",t.phone_no)},input:function(e){e.target.composing||(t.phone_no=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.country_id,expression:"country_id"}],attrs:{type:"hidden"},domProps:{value:t.country_id},on:{input:function(e){e.target.composing||(t.country_id=e.target.value)}}})])}),[],!1,null,"1ae1bea2",null).exports}}]);